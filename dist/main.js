!function(t){var e={};function n(i){if(e[i])return e[i].exports;var s=e[i]={i:i,l:!1,exports:{}};return t[i].call(s.exports,s,s.exports,n),s.l=!0,s.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)n.d(i,s,function(e){return t[e]}.bind(null,s));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e,n){var i=n(1);function s(t,e,n,s){return function(n){n.delegateTarget=i(n.target,e),n.delegateTarget&&s.call(t,n)}}t.exports=function(t,e,n,i,o){var r=s.apply(this,arguments);return t.addEventListener(n,r,o),{destroy:function(){t.removeEventListener(n,r,o)}}}},function(t,e){if("undefined"!=typeof Element&&!Element.prototype.matches){var n=Element.prototype;n.matches=n.matchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector||n.webkitMatchesSelector}t.exports=function(t,e){for(;t&&9!==t.nodeType;){if("function"==typeof t.matches&&t.matches(e))return t;t=t.parentNode}}},function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return R}));var i=n(0),s=n.n(i);var o=class{constructor(){this.pages={},this.last=null}cacheUrl(t){t.url in this.pages==!1&&(this.pages[t.url]=t),this.last=this.pages[t.url],this.swup.log(`Cache (${Object.keys(this.pages).length})`,this.pages)}getPage(t){return this.pages[t]}getCurrentPage(){return this.getPage(window.location.pathname+window.location.search)}exists(t){return t in this.pages}empty(){this.pages={},this.last=null,this.swup.log("Cache cleared")}remove(t){delete this.pages[t]}};var r=t=>{let e=t.toString().toLowerCase().replace(/\s+/g,"-").replace(/\//g,"-").replace(/[^\w\-]+/g,"").replace(/\-\-+/g,"-").replace(/^-+/,"").replace(/-+$/,"");return"/"===e[0]&&(e=e.splice(1)),""===e&&(e="homepage"),e};var a=t=>{window.history.pushState({url:t||window.location.href.split(window.location.hostname)[1],random:Math.random(),source:"swup"},document.getElementsByTagName("title")[0].innerText,t||window.location.href.split(window.location.hostname)[1])};const l=(t,e=document)=>"string"!=typeof t?t:Array.prototype.slice.call(e.querySelectorAll(t));var c=(t,e)=>{let n=document.createElement("html");n.innerHTML=t;let i=[];for(let t=0;t<e.length;t++){if(null==n.querySelector(e[t]))return null;l(e[t]).forEach((s,o)=>{l(e[t],n)[o].setAttribute("data-swup",i.length),i.push(l(e[t],n)[o].outerHTML)})}const s={title:n.querySelector("title").innerText,pageClass:n.querySelector("body").className,originalContent:t,blocks:i};return n.innerHTML="",n=null,s};var u=(t,e=!1)=>{let n={...{url:window.location.pathname+window.location.search,method:"GET",data:null,headers:{}},...t},i=new XMLHttpRequest;return i.onreadystatechange=function(){4===i.readyState&&(i.status,e(i))},i.open(n.method,n.url,!0),Object.keys(n.headers).forEach(t=>{i.setRequestHeader(t,n.headers[t])}),i.send(n.data),i};var h=()=>{const t=document.createElement("div"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(let n in e)if(void 0!==t.style[n])return e[n];return!1};var d=()=>window.location.pathname+window.location.search;var p=(t,e)=>{let n=0;for(let i=0;i<e.length;i++)null==t.querySelector(e[i])?console.warn(`Element ${e[i]} is not in current page.`):l(e[i]).forEach((s,o)=>{l(e[i],t)[o].setAttribute("data-swup",n),n++})};const g=r,m=a,f=c,w=u,v=h,E=d,y=p,P=class{constructor(t){t instanceof Element||t instanceof SVGElement?this.link=t:(this.link=document.createElement("a"),this.link.href=t)}getPath(){let t=this.link.pathname;return"/"!==t[0]&&(t="/"+t),t}getAddress(){let t=this.link.pathname+this.link.search;return this.link.getAttribute("xlink:href")&&(t=this.link.getAttribute("xlink:href")),"/"!==t[0]&&(t="/"+t),t}getHash(){return this.link.hash}};var b=function(t,e){let n,i=[];const s=()=>{if(this.triggerEvent("animationOutStart"),document.documentElement.classList.add("is-changing"),document.documentElement.classList.add("is-leaving"),document.documentElement.classList.add("is-animating"),e&&document.documentElement.classList.add("is-popstate"),document.documentElement.classList.add("to-"+g(t.url)),i=this.getAnimationPromises("out"),Promise.all(i).then(()=>{this.triggerEvent("animationOutDone")}),!e){let e;e=null!=this.scrollToElement?t.url+this.scrollToElement:t.url,m(e)}};this.triggerEvent("transitionStart",e),null!=t.customTransition?(this.updateTransition(window.location.pathname,t.url,t.customTransition),document.documentElement.classList.add("to-"+g(t.customTransition))):this.updateTransition(window.location.pathname,t.url),!e||this.options.animateHistoryBrowsing?s():this.triggerEvent("animationSkipped"),this.cache.exists(t.url)?(n=new Promise(t=>{t()}),this.triggerEvent("pageRetrievedFromCache")):n=this.preloadPromise&&this.preloadPromise.route==t.url?this.preloadPromise:new Promise((e,n)=>{w({...t,headers:this.options.requestHeaders},i=>{if(500===i.status)return this.triggerEvent("serverError"),void n(t.url);{let e=this.getPageData(i);if(null==e)return void n(t.url);e.url=t.url,this.cache.cacheUrl(e),this.triggerEvent("pageLoaded")}e()})}),Promise.all(i.concat([n])).then(()=>{this.renderPage(this.cache.getPage(t.url),e),this.preloadPromise=null}).catch(t=>{this.options.skipPopStateHandling=function(){return window.location=t,!0},window.history.go(-1)})};var S=function(t,e){document.documentElement.classList.remove("is-leaving");let n=new P(t.responseURL);window.location.pathname!==n.getPath()&&(window.history.replaceState({url:n.getPath(),random:Math.random(),source:"swup"},document.title,n.getPath()),this.cache.cacheUrl({...t,url:n.getPath()})),e&&!this.options.animateHistoryBrowsing||document.documentElement.classList.add("is-rendering"),this.triggerEvent("willReplaceContent",e);for(let e=0;e<t.blocks.length;e++)document.body.querySelector(`[data-swup="${e}"]`).outerHTML=t.blocks[e];if(document.title=t.title,this.triggerEvent("contentReplaced",e),this.triggerEvent("pageView",e),this.options.cache||this.cache.empty(),setTimeout(()=>{e&&!this.options.animateHistoryBrowsing||(this.triggerEvent("animationInStart"),document.documentElement.classList.remove("is-animating"))},10),!e||this.options.animateHistoryBrowsing){const t=this.getAnimationPromises("in");Promise.all(t).then(()=>{this.triggerEvent("animationInDone"),this.triggerEvent("transitionEnd",e),document.documentElement.className.split(" ").forEach(t=>{(new RegExp("^to-").test(t)||"is-changing"===t||"is-rendering"===t||"is-popstate"===t)&&document.documentElement.classList.remove(t)})})}else this.triggerEvent("transitionEnd",e);this.scrollToElement=null};var k=function(t,e){this._handlers[t].forEach(t=>{try{t(e)}catch(t){console.error(t)}});const n=new CustomEvent("swup:"+t,{detail:t});document.dispatchEvent(n)};var T=function(t,e){this._handlers[t]?this._handlers[t].push(e):console.warn(`Unsupported event ${t}.`)};var H=function(t,e){if(null!=t)if(null!=e)if(this._handlers[t]&&this._handlers[t].filter(t=>t===e).length){let n=this._handlers[t].filter(t=>t===e)[0],i=this._handlers[t].indexOf(n);i>-1&&this._handlers[t].splice(i,1)}else console.warn(`Handler for event '${t}' no found.`);else this._handlers[t]=[];else Object.keys(this._handlers).forEach(t=>{this._handlers[t]=[]})};var L=function(t,e,n){this.transition={from:t,to:e,custom:n}};var _=function(){const t=[];return l(this.options.animationSelector).forEach(e=>{const n=new Promise(t=>{e.addEventListener(v(),n=>{e==n.target&&t()})});t.push(n)}),t};var M=function(t){const e=t.responseText;let n=f(e,this.options.containers);return n?(n.responseURL=t.responseURL?t.responseURL:window.location.href,n):(console.warn("Received page is invalid."),null)};const x=function(t){if(t.isSwupPlugin)return this.plugins.push(t),t.swup=this,"function"==typeof t._beforeMount&&t._beforeMount(),t.mount(),this.plugins;console.warn(`Not swup plugin instance ${t}.`)},A=function(t){let e;if(e="string"==typeof t?this.plugins.find(e=>t===e.name):t,!e)return void console.warn("No such plugin.");e.unmount(),"function"==typeof e._afterUnmount&&e._afterUnmount();const n=this.plugins.indexOf(e);return this.plugins.splice(n,1),this.plugins},O=function(t){return this.plugins.find(e=>t===e.name)};class R{constructor(t){const e={...{animateHistoryBrowsing:!1,animationSelector:'[class*="transition-"]',linkSelector:`a[href^="${window.location.origin}"]:not([data-no-swup]), a[href^="/"]:not([data-no-swup]), a[href^="#"]:not([data-no-swup])`,cache:!0,containers:["#swup"],requestHeaders:{"X-Requested-With":"swup",Accept:"text/html, application/xhtml+xml"},plugins:[],skipPopStateHandling:function(t){return!(t.state&&"swup"===t.state.source)}},...t};this._handlers={animationInDone:[],animationInStart:[],animationOutDone:[],animationOutStart:[],animationSkipped:[],clickLink:[],contentReplaced:[],disabled:[],enabled:[],openPageInNewTab:[],pageLoaded:[],pageRetrievedFromCache:[],pageView:[],popState:[],samePage:[],samePageWithHash:[],serverError:[],transitionStart:[],transitionEnd:[],willReplaceContent:[]},this.scrollToElement=null,this.preloadPromise=null,this.options=e,this.plugins=[],this.transition={},this.delegatedListeners={},this.boundPopStateHandler=this.popStateHandler.bind(this),this.cache=new o,this.cache.swup=this,this.loadPage=b,this.renderPage=S,this.triggerEvent=k,this.on=T,this.off=H,this.updateTransition=L,this.getAnimationPromises=_,this.getPageData=M,this.log=()=>{},this.use=x,this.unuse=A,this.findPlugin=O,this.enable()}enable(){if("undefined"==typeof Promise)return void console.warn("Promise is not supported");this.delegatedListeners.click=s()(document,this.options.linkSelector,"click",this.linkClickHandler.bind(this)),window.addEventListener("popstate",this.boundPopStateHandler);let t=f(document.documentElement.outerHTML,this.options.containers);t.url=t.responseURL=E(),this.options.cache&&this.cache.cacheUrl(t),y(document.documentElement,this.options.containers),this.options.plugins.forEach(t=>{this.use(t)}),window.history.replaceState(Object.assign({},window.history.state,{url:window.location.href,random:Math.random(),source:"swup"}),document.title,window.location.href),this.triggerEvent("enabled"),document.documentElement.classList.add("swup-enabled"),this.triggerEvent("pageView")}destroy(){this.delegatedListeners.click.destroy(),window.removeEventListener("popstate",this.boundPopStateHandler),this.cache.empty(),this.options.plugins.forEach(t=>{this.unuse(t)}),l("[data-swup]").forEach(t=>{t.removeAttribute("data-swup")}),this.off(),this.triggerEvent("disabled"),document.documentElement.classList.remove("swup-enabled")}linkClickHandler(t){if(t.metaKey||t.ctrlKey||t.shiftKey||t.altKey)this.triggerEvent("openPageInNewTab",t);else if(0===t.button){this.triggerEvent("clickLink",t),t.preventDefault();const e=new P(t.delegateTarget);if(e.getAddress()==E()||""==e.getAddress())if(""!=e.getHash()){this.triggerEvent("samePageWithHash",t);null!=document.querySelector(e.getHash())?history.replaceState({url:e.getAddress()+e.getHash(),random:Math.random(),source:"swup"},document.title,e.getAddress()+e.getHash()):console.warn(`Element for offset not found (${e.getHash()})`)}else this.triggerEvent("samePage",t);else{""!=e.getHash()&&(this.scrollToElement=e.getHash());let n=t.delegateTarget.getAttribute("data-swup-transition");this.loadPage({url:e.getAddress(),customTransition:n},!1)}}}popStateHandler(t){if(this.options.skipPopStateHandling(t))return;const e=new P(t.state?t.state.url:window.location.pathname);""!==e.getHash()?this.scrollToElement=e.getHash():t.preventDefault(),this.triggerEvent("popState",t),this.loadPage({url:e.getAddress()},t)}}}]);